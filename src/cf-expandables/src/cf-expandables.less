/* ==========================================================================
   Capital Framework
   Expandable Styling
   ========================================================================== */

// Import external dependencies

@import (less) '../../cf-core/src/cf-core.less';
@import (less) '../../cf-icons/src/cf-icons.less';

//
// Theme variables
//

// Color variables
// $color- variables are from 18F's US Web Design Standards
// https://github.com/18F/web-design-standards/blob/18f-pages/assets/_scss/core/_variables.scss

// .expandable
@expandable-focus:              #046b99; // $color-primary-alt-darkest

// .expandable_label
@expandable_label-text:         #046b99; // $color-primary-alt-darkest

// .expandable_link
@expandable_link-text:          #046b99; // $color-primary-alt-darkest

// .expandable__padded
@expandable__padded-bg:         #e1f3f8; // $color-primary-alt-lightest
@expandable__padded-bg-hover:   lighten(@expandable__padded-bg, 3%);
@expandable__padded-divider:    darken(@expandable__padded-bg, 5%);

// .expandable-group
@expandable-group_header-text:  @text;
@expandable-group_header-bg:    #d6d7d9; // $color-gray-lighter:
@expandable-group-bg:           #fff;
@expandable-group-divider:      #046b99; // $color-primary-alt-darkest

// Sizing variables

// .expandable_link
@expandable_link-font-size:     14px;

//
// Recommended expandable pattern
//

.expandable {
    margin-bottom: unit(30px / @base-font-size-px, em);
}

.expandable_target {
    padding: 0;
    border: 0;
    background-color: transparent;
    cursor: pointer;

    &:focus {
        outline: 1px dotted @expandable-focus;
        outline-offset: 1px;
    }
}

.expandable_content {
    // A clearfix prevents twitchy animations from occurring when margins
    // collapse and extend past the bounds of the expandable.
    .u-clearfix();
}

//
// Expandable text elements
//

.expandable_label {
    color: @expandable_label-text;
    .webfont-medium();
}

.expandable_link {
    color: @expandable_link-text;
    .webfont-regular();
    font-size: unit(@expandable_link-font-size / @base-font-size-px, em);
    line-height: unit(@base-line-height-px / @expandable_link-font-size);
}

//
// Animated cues
//

.expandable_cue-open__animated,
.expandable_cue-close__animated {
    transition: 0.25s transform;
}

.expandable_cue-close__animated {
    transform: rotate(180deg);
}

.expandable__expanded .expandable_cue-close__animated {
    transform: rotate(0);
}

.expandable__expanded .expandable_cue-open__animated {
    transform: rotate(-180deg);
}

//
// Expandable header elements
//

.expandable_header {
    display: block;
    .u-clearfix();

    // Using the button element with .expandable_header requires setting an
    // explicit width.
    button& {
        width: 100%;
        text-align: left;
    }
}

.expandable_header__spaced {
    padding-bottom: unit(15px / @base-font-size-px, em);
}

.expandable_header-left {
    float: left;
}

.expandable_header-right {
    float: right;
}

//
// Padded expandable modifier
//

.expandable__padded {
    margin-bottom: unit(30px / @base-font-size-px, em);
    background: @expandable__padded-bg;

    &:hover,
    &.expandable__expanded {
        background: @expandable__padded-bg-hover;
    }

    .expandable_header {
        padding: unit(10px / @base-font-size-px, em)
                 unit(16px / @base-font-size-px, em);
    }

    .expandable_content {
        // Margin collapsing trick for more consistent bottom padding.
        margin: 0
                unit(16px / @base-font-size-px, em)
                unit(22px / @base-font-size-px, em);

        // The divider between _header and _content.
        &:before {
            content: '';
            display: block;
            height: 1px;
            margin-bottom: unit(16px / @base-font-size-px, em);
            background: @expandable__padded-divider;
        }
    }
}

//
// Expandable groups
//

.expandable-group {
    margin-bottom: unit(30px / @base-font-size-px, em);
}

.expandable-group_header {
    padding: unit(5px / @font-size, em)
             unit(16px / @font-size, em);
    border-bottom: 1px solid @expandable-group-divider;
    background: @expandable-group_header-bg;
    color: @expandable-group_header-text;
    .heading-5();
    margin-bottom: 0;
}

.expandable-group .expandable {
    border-bottom: 1px solid @expandable-group-divider;
    margin-bottom: 0;
    background: @expandable-group-bg;
}

.expandable-group .expandable_label {
    .heading-4();
    margin-bottom: 0;
}

.expandable-group .expandable_content {
    margin-bottom: 0;
}
